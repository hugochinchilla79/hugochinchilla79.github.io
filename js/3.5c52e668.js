(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"365c":function(t,e,a){"use strict";var i={baseUrl:"https://gateway.marvel.com",characters:{path:"/v1/public/characters"},comics:{path:"/v1/public/comics"},stories:{path:"/v1/public/stories"}};e["a"]=i},"62c5":function(t,e,a){"use strict";var i=a("6821f"),r={get:function(){var t="27a16c60f12ffe97705904be77d5f2bd",e=(new Date).getUTCSeconds(),a="2a8213eb9482ee8155dc81aa1e87c1d87b06f777";return{apikey:t,ts:e,hash:i("".concat(e).concat(a).concat(t))}}};e["a"]=r},"826f":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return r}));a("ac6a"),a("cadf"),a("06db"),a("456d");function i(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,r=i,c=(a-1)*r,s="".concat(t,"?limit=").concat(r,"&offset=").concat(c,"&");return Object.keys(e).forEach((function(t){s+="".concat(t,"=").concat(e[t],"&")})),s}function r(t){var e="";console.log(t);var a=t.length,i=1;return t.forEach((function(t){e+="".concat(t.value),e+=i===a?"":",",i++})),e}},"98b3":function(t,e,a){"use strict";a("20d6"),a("7514");var i={comics:window.localStorage.getItem("comics")?JSON.parse(window.localStorage.getItem("comics")):[],characters:window.localStorage.getItem("characters")?JSON.parse(window.localStorage.getItem("characters")):[],stories:window.localStorage.getItem("stories")?JSON.parse(window.localStorage.getItem("stories")):[],storyIds:window.localStorage.getItem("storyIds")?JSON.parse(window.localStorage.getItem("storyIds")):[],comicIds:window.localStorage.getItem("comicIds")?JSON.parse(window.localStorage.getItem("comicIds")):[],characterIds:window.localStorage.getItem("characterIds")?JSON.parse(window.localStorage.getItem("characterIds")):[],saveComic:function(t){this.comics.find((function(e){return e.id===t.id}))||(this.comics.push(t),window.localStorage.setItem("comics",JSON.stringify(this.comics)))},saveComicId:function(t){-1===this.comicIds.indexOf(t)&&(this.comicIds.push(t),window.localStorage.setItem("comicIds",JSON.stringify(this.comicIds)))},saveCharacter:function(t){this.characters.find((function(e){return e.id===t.id}))||(this.characters.push(t),window.localStorage.setItem("characters",JSON.stringify(this.characters)))},saveCharacterId:function(t){-1===this.characterIds.indexOf(t)&&(this.characterIds.push(t),window.localStorage.setItem("characterIds",JSON.stringify(this.characterIds)))},saveStory:function(t){this.stories.find((function(e){return e.id===t.id}))||(this.stories.push(t),window.localStorage.setItem("stories",JSON.stringify(this.stories)))},saveStoryId:function(t){-1===this.storyIds.indexOf(t)&&(this.storyIds.push(t),window.localStorage.setItem("storyIds",JSON.stringify(this.storyIds)))},deleteComicId:function(t){var e=this.comicIds.indexOf(t);-1!==e&&this.comicIds.splice(e,1)},deleteCharacterId:function(t){var e=this.characterIds.indexOf(t);-1!==e&&this.characterIds.splice(e,1)},deleteStoryId:function(t){var e=this.storyIds.indexOf(t);-1!==e&&this.storyIds.splice(e,1)},deleteCharacter:function(t){var e=this.characters.findIndex((function(e){return e.id===t.id}));-1!==e&&(this.characters.splice(e,1),window.localStorage.setItem("characters",JSON.stringify(this.characters)))},deleteComic:function(t){var e=this.comics.findIndex((function(e){return e.id===t.id}));-1!==e&&(this.comics.splice(e,1),window.localStorage.setItem("comics",JSON.stringify(this.characters)))},deleteStory:function(t){var e=this.stories.findIndex((function(e){return e.id===t.id}));-1!==e&&(this.stories.splice(e,1),window.localStorage.setItem("stories",JSON.stringify(this.stories)))},clear:function(){window.localStorage.clear()}};e["a"]=i},e5a5:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"q-pa-md row items-start q-gutter-md"},[a("q-card",{staticClass:"fit full-height",staticStyle:{"min-height":"400px"},attrs:{"full-height":"",flat:"",bordered:"",dark:""}},[a("q-img",{attrs:{src:t.img,"full-height":""}}),a("q-card-section",[a("div",{staticClass:"text-h5 q-mt-sm q-mb-xs"},[t._v(t._s(t.value.name))]),a("div",{staticClass:"text-caption text-grey"})]),a("q-card-actions",[a("q-btn",{attrs:{to:{name:"characters-comics",params:{id:t.value.id,comicsUri:t.value.comics.collectionURI}},flat:"",color:"primary",label:"Comics"}}),a("q-btn",{attrs:{to:{name:"characters-stories",params:{id:t.value.id,storiesUri:t.value.comics.collectionURI}},flat:"",color:"primary",label:"Stories"}}),t.isSaved?t._e():a("q-btn",{attrs:{flat:"",round:"",color:"red",icon:"favorite_border"},on:{click:function(e){return t.saveCharacter()}}}),t.isSaved?a("q-btn",{attrs:{flat:"",round:"",color:"red",icon:"favorite"},on:{click:function(e){return t.deleteCharacter()}}}):t._e(),a("q-space"),a("q-btn",{attrs:{color:"grey",round:"",flat:"",dense:"",icon:t.expanded?"keyboard_arrow_up":"keyboard_arrow_down"},on:{click:function(e){t.expanded=!t.expanded}}})],1),a("q-slide-transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.expanded,expression:"expanded"}]},[a("q-separator"),a("q-card-section",{staticClass:"text-subitle2"},[t._v("\n            "+t._s(t.value.description)+"\n          ")])],1)])],1)],1)])},r=[],c=a("98b3"),s={name:"character",props:{value:Object},data:function(){return{expanded:!1,storage:c["a"]}},methods:{saveCharacter:function(){c["a"].saveCharacter(this.value),c["a"].saveCharacterId(this.value.id)},deleteCharacter:function(){c["a"].deleteCharacter(this.value),c["a"].deleteCharacterId(this.value.id)}},computed:{img:function(){return"".concat(this.value.thumbnail.path,".").concat(this.value.thumbnail.extension)},isSaved:function(){return-1!==c["a"].characterIds.indexOf(this.value.id)}},beforeMount:function(){}},o=s,n=a("2877"),l=a("eebe"),d=a.n(l),u=a("f09f"),h=a("068f"),f=a("a370"),m=a("4b7e"),g=a("9c40"),p=a("2c91"),v=a("e9c1"),b=a("eb85"),y=Object(n["a"])(o,i,r,!1,null,null,null);e["a"]=y.exports;d()(y,"components",{QCard:u["a"],QImg:h["a"],QCardSection:f["a"],QCardActions:m["a"],QBtn:g["a"],QSpace:p["a"],QSlideTransition:v["a"],QSeparator:b["a"]})},ebfdd:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-md"},[a("q-card",{staticClass:"my-card q-pa-md"},[a("q-card-section",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-12 col-lg-6 col-md-6 col-sm-6 text-center q-pa-sm"},[a("q-input",{attrs:{label:"Part or full name",outlined:""},model:{value:t.filters.name,callback:function(e){t.$set(t.filters,"name",e)},expression:"filters.name"}})],1),a("div",{staticClass:"col-xs-12 col-lg-6 col-md-6 col-sm-6 text-left q-pa-sm"},[a("q-btn",{attrs:{color:"primary"},on:{click:function(e){return t.filterCharactersByName()}}},[t._v("\n            Filter by Name\n          ")])],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-12 col-lg-6 col-md-6 col-sm-6 text-center self-align-center q-pa-sm"},[a("q-select",{attrs:{filled:"","use-input":"",multiple:"","use-chips":"","input-debounce":"0",label:"Enter a comic's name",options:t.comics},on:{filter:t.getComics},scopedSlots:t._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[t._v("\n                  No results\n                ")])],1)]},proxy:!0}]),model:{value:t.filters.comic,callback:function(e){t.$set(t.filters,"comic",e)},expression:"filters.comic"}})],1),a("div",{staticClass:"col-xs-12 col-lg-6 col-md-6 col-sm-6 text-left self-align-center q-pa-sm"},[a("q-btn",{attrs:{color:"primary"},on:{click:function(e){return t.filterCharactersByComics()}}},[t._v("\n            FILTER BY COMICS\n          ")])],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-3 q-pa-sm text-left"},[a("q-btn",{attrs:{color:"primary"},on:{click:function(e){return t.clearFilters()}}},[t._v("\n            Clean filters\n          ")])],1),a("div",{staticClass:"col-3 q-pa-sm text-left"},[a("q-btn",{attrs:{color:"primary"},on:{click:function(e){return t.filterByAll()}}},[t._v("\n            Filter by all\n          ")])],1),a("div",{staticClass:"col-3 q-pa-sm text-left"},[a("q-btn",{attrs:{color:"primary"},on:{click:function(e){return t.orderAsc()}}},[t._v("\n            Order by Name ASC\n          ")])],1),a("div",{staticClass:"col-3 q-pa-sm text-left"},[a("q-btn",{attrs:{color:"primary"},on:{click:function(e){return t.orderDesc()}}},[t._v("\n            Order by Name DESC\n          ")])],1)])])],1),a("div",{staticClass:"row"},t._l(t.characters,(function(t){return a("div",{key:t.id,staticClass:"col-xs-12 col-lg-3 col-md-3 col-sm-6 text-center",staticStyle:{min:"height: 500px"}},[a("character",{attrs:{value:t}})],1)})),0),a("div",{staticClass:"q-pa-lg flex flex-center"},[t.isFiltered||t.isLoading?t._e():a("q-pagination",{attrs:{color:"black",max:t.total,"max-pages":15,"boundary-numbers":!1},on:{input:function(e){return t.changePage()}},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)},r=[],c=(a("8e6e"),a("8a81"),a("ac6a"),a("cadf"),a("456d"),a("7f7f"),a("551c"),a("06db"),a("097d"),a("c47a")),s=a.n(c),o=a("62c5"),n=a("826f"),l=a("365c"),d=a("e5a5");function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function h(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){s()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var f={name:"PageCharacterList",components:{Character:d["a"]},data:function(){return{characters:[],filters:{name:"",comic:[],story:[]},currentPage:1,total:1,count:20,comics:[],stories:[],currentUrl:"",isFiltered:!1,dataFilters:{nameStartsWith:"",comics:"",stories:""},order:"name",isLoading:!1}},methods:{getFilteredCharacters:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=l["a"].baseUrl,c=l["a"].characters,s=o["a"].get(),d=i?h({},s,{},i):h({},s),u="".concat(r).concat(c.path),f=Object(n["a"])(u,d,e,a);this.$axios.get(f).then((function(e){200===e.data.code&&(t.total=Math.floor(e.data.data.total/e.data.data.count),t.total=e.data.data.total%e.data.data.count!==0?t.total+1:t.total,t.characters=e.data.data.results,t.currentPage=1,t.isFiltered=!0)}))},changePage:function(){var t=this;if(!this.filtered){var e=l["a"].baseUrl,a=l["a"].characters,i=o["a"].get(),r="".concat(e).concat(a.path);i["orderBy"]=this.order;var c=Object(n["a"])(r,i,this.currentPage,this.count);this.currentUrl=c,this.$q.loading.show(),this.isLoading=!0,this.$axios.get(this.currentUrl).then((function(e){200===e.data.code&&(t.total=Math.floor(e.data.data.total/e.data.data.count),t.total=e.data.data.total%e.data.data.count!==0?t.total+1:t.total,t.characters=e.data.data.results)})).catch((function(){})).finally((function(){t.$q.loading.hide(),t.isLoading=!1,window.scrollTo(0,0)}))}},getComics:function(t,e,a){var i=this,r=l["a"].baseUrl,c=l["a"].comics,s=o["a"].get(),d="".concat(r).concat(c.path);console.log(t),""!==t&&(s["titleStartsWith"]=t);var u=Object(n["a"])(d,s);e((function(){i.$axios.get(u).then((function(t){i.comics=t.data.data.results.map((function(t){return{value:t.id,label:t.title}}))})).catch((function(){a()})).finally((function(){}))}))},filterCharactersByName:function(){if(""!==this.filters.name.trim()){var t={nameStartsWith:this.filters.name};this.getFilteredCharacters(1,20,t)}else this.$q.notify({message:"You must enter a name to filter",position:"top"})},filterCharactersByComics:function(){if(0!==this.filters.comic.length){var t={comics:Object(n["b"])(this.filters.comic)};console.log(t),this.getFilteredCharacters(1,20,t)}else this.$q.notify({message:"You must enter at least one comic",position:"top"})},filterCharactersByStories:function(){0===this.filters.story.length&&this.$q.notify({message:"You must enter at least one storie",position:"top"});var t={stories:Object(n["b"])(this.filters.story)};this.getFilteredCharacters(1,20,t)},filterByAll:function(){var t=null;return""!==this.filters.name.trim&&this.filters.comic.length>0&&this.filters.story.length>0?null:(""!==this.filters.name.trim&&(t["nameStartsWith"]=this.filters.name),this.filters.comic.length>0&&(t["comics"]=Object(n["b"])(this.filters.comic)),this.filters.story.length>0&&(t["stories"]=Object(n["b"])(this.filters.story)),t)},clearFilters:function(){this.filters.name="",this.filters.story=[],this.filters.comic=[],this.isFiltered=!1,this.currentPage=1,this.changePage()},orderAsc:function(){this.order="name",this.changePage()},orderDesc:function(){this.order="-name",this.changePage()}},computed:{},beforeMount:function(){this.changePage()}},m=f,g=a("2877"),p=a("eebe"),v=a.n(p),b=a("f09f"),y=a("a370"),w=a("27f9"),I=a("9c40"),S=a("ddd8"),C=a("66e5"),x=a("4074"),O=a("3b16"),q=Object(g["a"])(m,i,r,!1,null,null,null);e["default"]=q.exports;v()(q,"components",{QCard:b["a"],QCardSection:y["a"],QInput:w["a"],QBtn:I["a"],QSelect:S["a"],QItem:C["a"],QItemSection:x["a"],QPagination:O["a"]})}}]);