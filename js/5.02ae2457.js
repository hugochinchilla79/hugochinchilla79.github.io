(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"365c":function(t,e,a){"use strict";var i={baseUrl:"https://gateway.marvel.com",characters:{path:"/v1/public/characters"},comics:{path:"/v1/public/comics"},stories:{path:"/v1/public/stories"}};e["a"]=i},"62c5":function(t,e,a){"use strict";var i=a("6821f"),c={get:function(){var t="27a16c60f12ffe97705904be77d5f2bd",e=(new Date).getUTCSeconds(),a="2a8213eb9482ee8155dc81aa1e87c1d87b06f777";return{apikey:t,ts:e,hash:i("".concat(e).concat(a).concat(t))}}};e["a"]=c},"826f":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return c}));a("ac6a"),a("cadf"),a("06db"),a("456d");function i(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,c=i,o=(a-1)*c,r="".concat(t,"?limit=").concat(c,"&offset=").concat(o,"&");return Object.keys(e).forEach((function(t){r+="".concat(t,"=").concat(e[t],"&")})),r}function c(t){var e="";console.log(t);var a=t.length,i=1;return t.forEach((function(t){e+="".concat(t.value),e+=i===a?"":",",i++})),e}},"8d39":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("q-card",{staticClass:"my-card q-pa-md"},[a("q-card-section",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-12 col-lg-6 col-md-6 col-sm-6 text-center self-align-center q-pa-sm"},[a("q-select",{attrs:{filled:"","use-input":"","input-debounce":"0",label:"Format",options:t.formats},model:{value:t.filters.format,callback:function(e){t.$set(t.filters,"format",e)},expression:"filters.format"}})],1),a("div",{staticClass:"col-xs-12 col-lg-4 col-md-4 col-sm-4 text-left self-align-center q-pa-sm"},[a("q-btn",{attrs:{color:"primary"},on:{click:function(e){return t.filterByFormat()}}},[t._v("\n                FILTER BY FORMAT\n              ")])],1),a("div",{staticClass:"col-xs-12 col-lg-2 col-md-2 col-sm-2 text-left self-align-center q-pa-sm"},[a("q-btn",{attrs:{color:"primary"},on:{click:function(e){return t.clearFilters()}}},[t._v("\n                CLEAR FILTERS\n              ")])],1)])])],1)],1)]),a("div",{staticClass:"row"},t._l(t.comics,(function(t){return a("div",{key:t.id,staticClass:"col-xs-12 col-sm-4 col-lg-3 col-md-3"},[a("comic",{attrs:{value:t}})],1)})),0),a("div",{staticClass:"q-pa-lg flex flex-center"},[t.isFiltered||t.isLoading?t._e():a("q-pagination",{attrs:{color:"black",max:t.total,"max-pages":15,"boundary-numbers":!1},on:{input:function(e){return t.changePage()}},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])},c=[],o=(a("8e6e"),a("8a81"),a("ac6a"),a("cadf"),a("456d"),a("c47a")),r=a.n(o),s=(a("551c"),a("06db"),a("097d"),a("365c")),n=a("826f"),l=a("62c5"),d=a("9851");function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function f(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){r()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var m={name:"PageComic",components:{Comic:d["a"]},data:function(){return{comics:[],currentPage:1,total:1,count:20,order:"title",isLoading:!1,filters:{format:""},formats:[{label:"Comic",value:"comic"},{label:"Magazine",value:"magazine"},{label:"Hardcover",value:"hardcover"},{label:"Trade paperback",value:"trade paperback"},{label:"Digest",value:"digest"},{label:"Graphic novel",value:"graphic novel"},{label:"Digital Comic",value:"digital comic"},{label:"Infinite comic",value:"infinite comic"}],isFiltered:!1}},methods:{changePage:function(){var t=this;if(!this.isFiltered){var e=s["a"].baseUrl,a=s["a"].comics,i=l["a"].get(),c="".concat(e).concat(a.path);i["orderBy"]=this.order;var o=Object(n["a"])(c,i,this.currentPage,this.count);this.$q.loading.show(),this.isLoading=!0,this.$axios.get(o).then((function(e){200===e.data.code&&(t.total=Math.floor(e.data.data.total/e.data.data.count),t.total=e.data.data.total%e.data.data.count!==0?t.total+1:t.total,t.comics=e.data.data.results)})).catch((function(){})).finally((function(){t.isLoading=!1,t.$q.loading.hide(),window.scrollTo(0,0)}))}},getFilteredComics:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=s["a"].baseUrl,o=s["a"].comics,r=l["a"].get(),d=i?f({},r,{},i):f({},r),u="".concat(c).concat(o.path),m=Object(n["a"])(u,d,e,a);this.$axios.get(m).then((function(e){200===e.data.code&&(t.total=Math.floor(e.data.data.total/e.data.data.count),t.total=e.data.data.total%e.data.data.count!==0?t.total+1:t.total,t.comics=e.data.data.results,t.currentPage=1,t.isFiltered=!0)}))},filterByFormat:function(){if(""!==this.filters.format){var t={format:this.filters.format.value};this.getFilteredComics(1,20,t)}else this.$q.notify({message:"You must select one format",position:"top"})},clearFilters:function(){this.filters.format="",this.isFiltered=!1}},beforeMount:function(){this.changePage()}},h=m,g=a("2877"),v=a("eebe"),p=a.n(v),b=a("f09f"),w=a("a370"),I=a("ddd8"),S=a("9c40"),y=a("3b16"),O=Object(g["a"])(h,i,c,!1,null,null,null);e["default"]=O.exports;p()(O,"components",{QCard:b["a"],QCardSection:w["a"],QSelect:I["a"],QBtn:S["a"],QPagination:y["a"]})},9851:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"q-pa-md row items-start q-gutter-md"},[a("q-card",{staticClass:"fit full-height",attrs:{"full-height":"",flat:"",bordered:"",dark:""}},[a("q-img",{attrs:{src:t.img,"full-height":""}}),a("q-card-section",[a("div",{staticClass:"text-h5 q-mt-sm q-mb-xs"},[t._v(t._s(t.value.title))]),a("div",{staticClass:"text-caption text-grey"})]),a("q-card-actions",[t.isSaved?t._e():a("q-btn",{attrs:{flat:"",round:"",color:"red",icon:"favorite_border"},on:{click:function(e){return t.saveComic()}}}),t.isSaved?a("q-btn",{attrs:{flat:"",round:"",color:"red",icon:"favorite"},on:{click:function(e){return t.deleteComic()}}}):t._e(),a("q-space"),a("q-btn",{attrs:{to:{name:"comic-stories",params:{id:t.value.id}},flat:"",color:"primary",label:"Stories"}}),a("q-btn",{attrs:{to:{name:"comics-characters",params:{id:t.value.id}},flat:"",color:"primary",label:"Characters"}}),a("q-btn",{attrs:{color:"grey",round:"",flat:"",dense:"",icon:t.expanded?"keyboard_arrow_up":"keyboard_arrow_down"},on:{click:function(e){t.expanded=!t.expanded}}})],1),a("q-slide-transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.expanded,expression:"expanded"}]},[a("q-separator"),a("q-card-section",{staticClass:"text-subitle2"},[t._v("\n            "+t._s(t.value.description)+"\n          ")])],1)])],1)],1)])},c=[],o=a("98b3"),r={name:"comic",props:{value:Object},data:function(){return{expanded:!1}},methods:{saveComic:function(){o["a"].saveComic(this.value),o["a"].saveComicId(this.value.id)},deleteComic:function(){o["a"].deleteComic(this.value),o["a"].deleteComicId(this.value.id)}},computed:{img:function(){return"".concat(this.value.thumbnail.path,".").concat(this.value.thumbnail.extension)},isSaved:function(){return-1!==o["a"].comicIds.indexOf(this.value.id)}}},s=r,n=a("2877"),l=a("eebe"),d=a.n(l),u=a("f09f"),f=a("068f"),m=a("a370"),h=a("4b7e"),g=a("9c40"),v=a("2c91"),p=a("e9c1"),b=a("eb85"),w=Object(n["a"])(s,i,c,!1,null,null,null);e["a"]=w.exports;d()(w,"components",{QCard:u["a"],QImg:f["a"],QCardSection:m["a"],QCardActions:h["a"],QBtn:g["a"],QSpace:v["a"],QSlideTransition:p["a"],QSeparator:b["a"]})},"98b3":function(t,e,a){"use strict";a("20d6"),a("7514");var i={comics:window.localStorage.getItem("comics")?JSON.parse(window.localStorage.getItem("comics")):[],characters:window.localStorage.getItem("characters")?JSON.parse(window.localStorage.getItem("characters")):[],stories:window.localStorage.getItem("stories")?JSON.parse(window.localStorage.getItem("stories")):[],storyIds:window.localStorage.getItem("storyIds")?JSON.parse(window.localStorage.getItem("storyIds")):[],comicIds:window.localStorage.getItem("comicIds")?JSON.parse(window.localStorage.getItem("comicIds")):[],characterIds:window.localStorage.getItem("characterIds")?JSON.parse(window.localStorage.getItem("characterIds")):[],saveComic:function(t){this.comics.find((function(e){return e.id===t.id}))||(this.comics.push(t),window.localStorage.setItem("comics",JSON.stringify(this.comics)))},saveComicId:function(t){-1===this.comicIds.indexOf(t)&&(this.comicIds.push(t),window.localStorage.setItem("comicIds",JSON.stringify(this.comicIds)))},saveCharacter:function(t){this.characters.find((function(e){return e.id===t.id}))||(this.characters.push(t),window.localStorage.setItem("characters",JSON.stringify(this.characters)))},saveCharacterId:function(t){-1===this.characterIds.indexOf(t)&&(this.characterIds.push(t),window.localStorage.setItem("characterIds",JSON.stringify(this.characterIds)))},saveStory:function(t){this.stories.find((function(e){return e.id===t.id}))||(this.stories.push(t),window.localStorage.setItem("stories",JSON.stringify(this.stories)))},saveStoryId:function(t){-1===this.storyIds.indexOf(t)&&(this.storyIds.push(t),window.localStorage.setItem("storyIds",JSON.stringify(this.storyIds)))},deleteComicId:function(t){var e=this.comicIds.indexOf(t);-1!==e&&this.comicIds.splice(e,1)},deleteCharacterId:function(t){var e=this.characterIds.indexOf(t);-1!==e&&this.characterIds.splice(e,1)},deleteStoryId:function(t){var e=this.storyIds.indexOf(t);-1!==e&&this.storyIds.splice(e,1)},deleteCharacter:function(t){var e=this.characters.findIndex((function(e){return e.id===t.id}));-1!==e&&(this.characters.splice(e,1),window.localStorage.setItem("characters",JSON.stringify(this.characters)))},deleteComic:function(t){var e=this.comics.findIndex((function(e){return e.id===t.id}));-1!==e&&(this.comics.splice(e,1),window.localStorage.setItem("comics",JSON.stringify(this.characters)))},deleteStory:function(t){var e=this.stories.findIndex((function(e){return e.id===t.id}));-1!==e&&(this.stories.splice(e,1),window.localStorage.setItem("stories",JSON.stringify(this.stories)))},clear:function(){window.localStorage.clear()}};e["a"]=i}}]);